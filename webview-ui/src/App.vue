<script setup lang="ts">
import { vscode } from "./utilities/vscode";
import { ref } from "vue";

const connectionName = ref("æ–°å»ºè¿æ¥");
const database = ref("employees");
const username = ref("root");
const password = ref("root");
const host = ref("localhost");
const port = ref(3306);
const dialect = ref("");

const dialectOptions = [
  "mysql"
]

function handleHowdyClick() {
  vscode.postMessage({
    command: "hello",
    text: "Hey there partner! ğŸ¤ ",
  });
}

function createConnection() {
  vscode.postMessage({
    command: "create-connection",
    connectionName: connectionName.value,
    database: database.value,
    username: username.value,
    password: password.value,
    host: host.value,
    port: port.value,
    dialect: dialect.value
  });

}
</script>

<template>
  <main class=" space-y-5">
    <button class="btn" @click="handleHowdyClick">Hello</button>
    <div>è¿æ¥åç§°ï¼š
      <input class="font-bold text-sm input input-bordered input-md w-full max-w-xs" type="text" v-model="connectionName">
    </div>
    <div>æ•°æ®åº“åç§°ï¼š
      <input class="font-bold text-sm input input-bordered input-md w-full max-w-xs" type="text" v-model="database">
    </div>
    <div>æ•°æ®åº“ç”¨æˆ·åï¼š
      <input class="font-bold text-sm input input-bordered input-md w-full max-w-xs" type="text" v-model="username">
    </div>
    <div>æ•°æ®åº“å¯†ç ï¼š
      <input class="font-bold text-sm input input-bordered input-md w-full max-w-xs" type="text" v-model="password">
    </div>
    <div>è¿æ¥åœ°å€:
      <input class="font-bold text-sm input input-bordered input-md w-full max-w-xs" type="text" v-model="host">
    </div>
    <div>ç«¯å£å·:
      <input class="font-bold text-sm input input-bordered input-md w-full max-w-xs" type="number" v-model="port">
    </div>

    <div>
      è¯·é€‰æ‹©è¦è¿æ¥çš„æ•°æ®åº“ç±»å‹:<select v-model="dialect" class="select select-bordered w-full max-w-xs">
        <option v-for="dialectOption in dialectOptions" :value="dialectOption">{{ dialectOption }}</option>
      </select>
    </div>

    <button class="btn" @click="createConnection">Create Connection</button>

  </main>
</template>